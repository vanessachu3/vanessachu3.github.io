<!DOCTYPE html>
<html lang="en">

<!--head of the document-->
<head>
    <!--uses UTF-8 character encoding standard-->
    <meta charset="UTF-8">
    <!--adjusts width of webpage to device width-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--title of the webpage-->
    <title>Vanessa Chu's Portfolio</title>
    <!--link to css file-->
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<!--main page body-->
<body>
    <!--header-->
    <nav class="top_nav">
        <a href="/index.html" target="_self">vc</a>
        <nav class="bot_nav">
            <a href="/index.html" target="_self">home</a>
            <a href="/projects.html" target="_self">projects</a>
            <a href="/about_me.html" target="_self">about me</a>
            <a href="/contact.html" target="_self">contact</a>
        </nav>
    </nav>

    <main>
        <a class="project_a" href="/projects.html" target="_self">
            <h1 class="project_title">projects</h1>
        </a>
        
        <section class="project_section">
            <h3 class="project_h3">LEM Signal Conditioning Board</h3>
            <h4 class="project_h4">may 2025 - aug 2025</h4>
            <p>
                <br>
                The LEM Current Transducer Signal Conditioning Board is a hardware design project focused on converting large AC primary currents (125&nbsp;A<sub>RMS</sub> to 3000&nbsp;A<sub>RMS</sub>) into a precise and isolated DC voltage output scaled to 10&nbsp;V full-scale.
                <br><br>
                When defining the project, the following soft requirements were established:
                <br>
            </p>

            <ul>
                <li>Input current range: 125&nbsp;A<sub>RMS</sub> to 2000&nbsp;A<sub>RMS</sub></li>
                <li>Output voltage range: 0V to 10V DC full scale (FS)</li>
                <li>Operating bandwidth &gt; 500kHz</li>
                <li>Total output error: &plusmn;0.05% FS</li>
                <li>High accuracy &lt; 0.1%</li>
                <li>Low-noise and low drift (&lt; 10 ppm/°C)</li>
                <li>Less number of secondary turns the better (less # of turns = lower gain to scale to 10&nbsp;V)</li>
                <li>Takes 24V input and outputs isolated +-15&nbsp;V to power LEM transducer</li>
            </ul>

            <p>
                <br>
                A block diagram for the system is shown below:
                <img src="assets/project 4/P4 - Logic Block Diagram.png" alt="Block Diagram" style="width: 70%; height: 70%;">
                The input current is first measured through the LEM transducer, which outputs a scaled current for further conditioning. The signal conditioning board functions as both a DC-DC voltage converter between 24V to &plusmn;15V, as well as a convert the input LEM current into a voltage that is scalable to maximum 10V.
                <br><br>
            </p>

            <p class="tldr">
                <b><ins>PCB Design</ins></b>
                <br><br>
                The signal conditioning board features:
                <ul>
                    <li>A DC-DC converter to step 24V input down to &plusmn;15V and also supply current of up to 2.7A to support peripheral circuitry</li>
                    <li>Heavy duty 1&Omega; 8W burden resistor to convert input current into voltage and support power dissipation</li>
                    <li>An array of gain resistors to scale voltage output depending on the measured input current (125&nbsp;A<sub>RMS</sub> to 2000&nbsp;A<sub>RMS</sub>)</li>
                    <li>Carefully chosen high-precision components with low tolerance to reach high accuracy, low noise, low drift, and total error of less than &plusmn;0.5% of full scale (FS)</li>
                    <li>Proper design for thermal dissipation around burden resistor and with a GND plane to dissipate heat</li>
                </ul>
                <div id="row">
                    <div id="column">
                        <img src="assets/project 4/PCB Top.png" alt="PCB Top View">
                    </div>
                    <div id="column">
                        <img src="assets/project 4/PCB Bottom.png" alt="PCB Bottom View">
                    </div>
                </div>
                <div id="row">
                    <div id="column">
                        <img src="assets/project 4/PCB 3D Top.png" alt="PCB Top 3D View">
                    </div>
                    <div id="column">
                        <img src="assets/project 4/PCB 3D Bottom.png" alt="PCB Bottom 3D View">
                    </div>
                </div>
            </p>

            <p>
                For more information on detailed design of the project, please continue reading.
                <br><br>
                <b><ins>LEM Models</ins></b>
                <br><br>
                To begin the project, the range of measured currents must first be sorted and picked out. I decided to use the IN series due to their low-noise, high-accuracy, packaging flexibilities, and client requirements. The transducers selected are as follows:
            </p>   
                <!--<ul class="lem_models">
                    <li>IN 200-S: 200Arms, 300A peak current, 1100kHz bandwidth</li>
                    <li>IN 400-S: 400Arms, 600A peak current, 800kHz bandwidth</li>
                    <li>IN 1000-S: 1000Arms, 1500A peak current, 440kHz bandwidth</li>
                    <li>IN 2000-S: 2000Arms, 3000A peak current, 140kHz bandwidth</li>
                </ul>-->

            <table class="lem_param">
                <tr>
                    <th><b>Model</b></th>
                    <th><b>AC RMS Current</b></th>
                    <th><b>Peak Measuring Current</b></th>
                    <th><b>Measuring Bandwidth</b></th>
                    <th><b>Secondary Turns</b></th>
                </tr>
                <tr>
                    <td>IN 200-S</td>
                    <td>200A</td>
                    <td>300A</td>
                    <td>1100kHz</td>
                    <td>1000</td>
                </tr>
                <tr>
                    <td>IN 400-S</td>
                    <td>400A</td>
                    <td>600A</td>
                    <td>800kHz</td>
                    <td>1500</td>
                </tr>
                <tr>
                    <td>IN 1000-S</td>
                    <td>1000A</td>
                    <td>1500A</td>
                    <td>440kHz</td>
                    <td>1500</td>
                </tr>
                <tr>
                    <td>IN 2000-S</td>
                    <td>2000A</td>
                    <td>3000A</td>
                    <td>140kHz</td>
                    <td>2000</td>
                </tr>
            </table>

            <p>
                Multiple LEM transducers were evaluated, each offering different tradeoffs in linearity, bandwidth, number of secondary turns, and noise.
                <br><br>
                <b><ins>Signal Conditioning Architecture</ins></b>
                <br><br>
                The transducer’s secondary current is converted into a voltage using a burden resistor (R<sub>B</sub>), and then amplified using a precision instrumentation amplifier (INA849 or PGA-series). 
                Several equations are used to calculate the gain values and required external resistors to tune the input current and output voltage ranges.
            </p>
            
            <p> 
                <br>
                The secondary current is used to calculate the burden voltage and required gain corresponding to each step of measured current requirement for the project. It is given by:
                <span class="equation"><strong>I<sub>S</sub> = I<sub>P</sub> &frasl; N<sub>S</sub></strong></span>
                Where I<sub>P</sub> is the primary current and N<sub>S</sub> is the number of secondary turns. To calculate the burden voltages, we must find the suggested values of the burden resistors first. These values were found by extrapolating from the datasheet of the LEM transducers. 
                For example, at an input current of 125A, the burden resistor specified by an IN 200-S transducer is around 75&#8486, while at an input of 250A, the burden resistor is required to be around 25&#8486. 
                <img src="assets/project 4/Burden Resistor Extrapolation.png" alt="Burden Resistor Extrapolation">
                Of course, these values are chosen at highest allowed operating temperature and a lower valued resistor would be able to handle higher currents and below.
                The burden voltages are then given by:
                <span class="equation"><strong>V<sub>B</sub> = I<sub>S</sub> &middot; R<sub>B</sub></strong></span>
                The burden voltage determines the amount of gain required to scale this output into the 10V full scale. 
                The required voltage gain to reach 10V FS is then calculated by:
                <span class="equation"><strong>G = 10V &frasl; V<sub>B</sub></strong></span>
                After finding the gain required for each burden resistor, the instrumentation amplifier gain resistor can then be calculated. For this project, the instrumentation amplifier chosen was the INA849 series due to its exceeding capabilities.
                The equation to calculate the gain resistor was given by the datasheet of the INA849. 
                <span class="equation"><strong>R<sub>G</sub> = 6000&#8486 &frasl; (G - 1)</strong></span>
                Finally, the power dissipation on the burden resistor must also be calculated to ensure that the resistor chosen can handle the power requirements. The power dissipation is given by:
                <span class="equation"><strong>P = I<sub>S</sub><sup>2</sup> &middot; R<sub>B</sub></strong></span>
                Now that all the required equations are declared, the journey to find the appropriate burden resistor commences. 
            </p>

            <p>
                <br>
                <b><ins>Burden Resistor & Gain Resistor Selection</ins></b>
                <br><br>
                Since the resistor is required to dissipate high power while having low temperature drift and low tolerance, VPG Foil Resistors were chosen for this project. 
                The process of finding the perfect burden resistor involved a lot of iterative calculations between the gain required and power disspation, as well as days of scouring DigiKey for the right component.
                In the end, a 1 &Omega; SMD burden resistor was chosen - Y21231R00000B9L - for simplicity since this resistor will not be removed and works for all input currents.
                <br><br>
                The table below summarizes the gain resistors, and power dissipation values for each measured current step and burden resistor value.
            </p>

             <table class="calculations">
                <tr>
                    <th><b>Input Current (RMS; A)</b></th>
                    <th><b>Burden Resistor (&Omega;)</b></th>
                    <th><b>Gain Required (V/V)</b></th>
                    <th><b>Gain Resistor (&Omega;)</b></th>
                    <th><b>Power Dissipation (W)</b></th>
                </tr>
                <tr>
                    <td>125</td>
                    <td>1</td>
                    <td>80</td>
                    <td>76</td>
                    <td>1.172</td>
                </tr>
                <tr>
                    <td>250</td>
                    <td>1</td>
                    <td>40</td>
                    <td>153.8</td>
                    <td>2.188</td>
                </tr>
                <tr>
                    <td>500</td>
                    <td>1</td>
                    <td>30</td>
                    <td>206.897</td>
                    <td>0.998</td>
                </tr>
                <tr>
                    <td>1000</td>
                    <td>1</td>
                    <td>15</td>
                    <td>428.571</td>
                    <td>3.114</td>
                </tr>
                <tr>
                    <td>1500</td>
                    <td>1</td>
                    <td>810</td>
                    <td>666.667</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>2000</td>
                    <td>1</td>
                    <td>10</td>
                    <td>666.667</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>3000</td>
                    <td>1</td>
                    <td>6.667</td>
                    <td>1058.823</td>
                    <td>4.5</td>
                </tr>
            </table>

            <!--<p>
                <b><ins>PCB Design</ins></b>
                <br><br>
                The PCB design can start now that the main component and their values are chosen. All schematics and PCB are routed and designed on Altium Designer. 
                <img src="assets/project 4/PCB Schematic.png" alt="PCB Schematic" style="width: 80%; height: 80%;">
                The top circuit features a MGFW802415, a DC-DC converter to step input 24V to &plusmn;15V supply to the instrumentation amplifier and LEM transducer, that is also able to supply a current of 2.7A. 
                The power rating of the burden resistor is designed to be 2-4x higher than the desired power to ensure functionality under high loads.
                Since the power rating of the chosen burden resistor is 8W, with a supplied current of 2.7A, it is able to provide necessary power for the resistor. 
                <br><br>
                The bottom circuit details the signal conditioning portion of the project.
                <br><br>
                The following images shows the PCB design as well as the 3D render version. The PCB is a 2-layer design with components only on one side, features thermal dissipation around the burden resistors and its output traces,
                high current carrying traces from the converter, as well as a ground pour on the bottom layer to help with power integrity as well as thermal regulation on the board.
                <div id="row">
                    <div id="column">
                        <img src="assets/project 4/PCB Top.png" alt="PCB Top View">
                    </div>
                    <div id="column">
                        <img src="assets/project 4/PCB Bottom.png" alt="PCB Bottom View">
                    </div>
                </div>
                <div id="row">
                    <div id="column">
                        <img src="assets/project 4/PCB 3D Top.png" alt="PCB Top 3D View">
                    </div>
                    <div id="column">
                        <img src="assets/project 4/PCB 3D Bottom.png" alt="PCB Bottom 3D View">
                    </div>
                </div>
            </p>-->
        </section>
    </main>

    <!--footer-->
    <nav class="footer">
        <!--<div id="contact_info"></div>-->
        <div class="footer_title_div">
            <h3 class="footer_titles">reach me</h3>
            <h3 class="footer_titles">pages</h3>
        </div>

        <div class="footer_section">
            <div id="links">
                <!--replace "linkedin:" with icons maybe?-->
                <!--<p>vanessa chu</p>-->
                <a href="https://www.linkedin.com/in/vanessac3/" target="_blank">linkedin</a>
                <a href="mailto:vanessa.chu333@gmail.com" target="_blank">email</a>
                <p>(604) 506-3511</p>
            </div>

            <div id="links">
                <a href="/index.html" target="_self">home</a>
                <a href="/projects.html" target="_self">projects</a>
                <a href="/about_me.html" target="_self">about me</a>
                <a href="/contact.html" target="_self">contact</a>
            </div>
        </div>
    </nav>
</body>